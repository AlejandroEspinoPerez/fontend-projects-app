<div class="container1">
  <h1 mat-dialog-title>{{ actionButton === 'SAVE' ? 'Adicionar Proyecto' : 'Actualizar Proyecto' }}</h1>

  <div mat-dialog-content>
    <form [formGroup]="projectForm">
      <!-- Nombre del proyecto -->
      <mat-form-field class="input" appearance="outline">
        <mat-label>Nombre del Proyecto</mat-label>
        <input matInput type="text" formControlName="nombre" placeholder="Escribe el nombre del proyecto..">
      </mat-form-field>

      <!-- Descripción -->
      <mat-form-field class="input" appearance="outline">
        <mat-label>Descripción</mat-label>
        <input matInput type="text" formControlName="descripcion" placeholder="Escribe la descripción..">
      </mat-form-field>

      <!-- Tipo de proyecto -->
      <mat-form-field class="input" appearance="outline">
        <mat-label>Tipo de Proyecto</mat-label>
        <mat-select formControlName="tipo">
          <mat-option value="infraestructura">Infraestructura</mat-option>
          <mat-option value="salud">Salud</mat-option>
          <mat-option value="educación">Educación</mat-option>
          <mat-option value="cultura">Cultura</mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Localidad -->
      <mat-form-field class="input" appearance="outline">
        <mat-label>Localidad</mat-label>
        <input matInput type="text" formControlName="localidad" placeholder="Escribe la localidad..">
      </mat-form-field>

      <!-- Líder del proyecto -->
      <mat-form-field class="input" appearance="outline">
        <mat-label>Líder</mat-label>
        <mat-select formControlName="lider">
          <mat-option *ngFor="let usuario of usuarios" [value]="usuario.id">
            {{ usuario.nombre }} {{ usuario.apellidos }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      
      <!-- Miembros del proyecto -->
      <mat-form-field class="input" appearance="outline">
        <mat-label>Miembros</mat-label>
        <mat-select formControlName="miembros" multiple>
          <mat-option *ngFor="let miembro of miembrosSeleccionados" [value]="miembro.id">
            {{ miembro.nombre }} {{ miembro.apellidos }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Objetivos -->
      <mat-form-field class="input" appearance="outline">
        <mat-label>Objetivos</mat-label>
        <input matInput type="text" formControlName="objetivos" placeholder="Escribe los objetivos..">
      </mat-form-field>

      <!-- Presupuesto -->
      <mat-form-field class="input" appearance="outline">
        <mat-label>Presupuesto</mat-label>
        <input matInput type="number" formControlName="presupuesto" placeholder="Escribe el presupuesto..">
      </mat-form-field>

    <!-- Fecha de inicio -->
    <mat-form-field class="input" appearance="outline">
      <mat-label>Fecha de Inicio</mat-label>
      <input matInput [matDatepicker]="startPicker" formControlName="fechaInicio" placeholder="Elige la fecha..">
      <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
      <mat-datepicker #startPicker></mat-datepicker>
    </mat-form-field>
    
  <!-- Fecha de fin (solo se muestra en edición) -->
  <ng-container *ngIf="editData">
    <mat-form-field class="input" appearance="outline">
      <mat-label>Fecha de Fin</mat-label>
      <input matInput [matDatepicker]="endPicker" formControlName="fechaFin" placeholder="Elige la fecha (opcional)">
      <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
      <mat-datepicker #endPicker></mat-datepicker>
    </mat-form-field>
  </ng-container>



      <!-- Resultado -->
      <mat-form-field class="input" appearance="outline">
        <mat-label>Resultado</mat-label>
        <input matInput type="text" formControlName="resultado" placeholder="Escribe el resultado..">
      </mat-form-field>
    </form>
  </div>

  <div mat-dialog-actions [align]="'end'">
    <button mat-raised-button color="warn" mat-dialog-close>CLOSE</button>
    <button mat-raised-button color="primary" (click)="addProject()">{{actionButton}}</button>
  </div>
</div>
